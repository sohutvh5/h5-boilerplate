<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">

<title>pull refresh</title>
<link  rel='stylesheet' type='text/css' href='../css/uikit.css'>
<!--源码-->
<script src="../js/zepto.min.js"></script>
<script src="../js/baseLib.js"></script>

<style type="text/css">
	
</style>

</head>
<body>
<header class="bar bar-nav">
    <h1 class='title'>Pull to refresh</h1>
</header>
<div class="content pull-to-refresh-content" data-ptr-distance="55">
    <div class="pull-to-refresh-layer">
        <div class="preloader"></div>
        <div class="pull-to-refresh-arrow"></div>
    </div>
    <div class="card">
        <div class="card-header">card</div>
        <div class="card-content">
            <div class="card-content-inner">
                Hello there! I am a card;
            </div>
        </div>
    </div>
</div>
<script>
    $(document).on('refresh', '.pull-to-refresh-content',function(e) {
        setTimeout(function() {
            var cardHTML = '<div class="card">' +
                    '<div class="card-header">New Card</div>' +
                    '<div class="card-content">' +
                    '<div class="card-content-inner">' +
                    'Hello! I am the new card!'+(Math.random()*1000000)+
                    '</div>' +
                    '</div>' +
                    '</div>';

            $(e.target).find('.card').replaceWith(cardHTML);
            // done
            $.pullToRefreshDone('.pull-to-refresh-content');
        }, 2000);
    });
</script>
</body>
</html>